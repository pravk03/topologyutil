// SPDX-FileCopyrightText: Copyright (C) SchedMD LLC.
// SPDX-License-Identifier: Apache-2.0

package cpuinfo

import (
	"os"
	"path"
	"reflect"
	"testing"
)

func TestGetCPUInfos(t *testing.T) {
	type fields struct {
		options []CPUInfoOption
	}
	tests := []struct {
		name    string
		dataDir string
		fields  fields
		want    []CPUInfo
		wantErr bool
	}{
		{
			name:    "empty",
			dataDir: "Empty",
			want:    []CPUInfo{},
		},
		{
			name:    "read error",
			dataDir: "",
			want:    []CPUInfo{},
			wantErr: true,
		},
		{
			name:    "13th Gen Intel(R) Core(TM) i7-1365U (No E-Cores)",
			dataDir: "13th_Gen_Intel(R)_Core(TM)_i7-1365U",
			want: []CPUInfo{
				{CpuId: 0, SocketId: 0, CoreId: 0},
				{CpuId: 1, SocketId: 0, CoreId: 0},
				{CpuId: 2, SocketId: 0, CoreId: 4},
				{CpuId: 3, SocketId: 0, CoreId: 4},
			},
			fields: fields{
				options: []CPUInfoOption{
					WithoutECores(),
				},
			},
		},
		{
			name:    "13th Gen Intel(R) Core(TM) i7-1365U",
			dataDir: "13th_Gen_Intel(R)_Core(TM)_i7-1365U",
			want: []CPUInfo{
				{CpuId: 0, SocketId: 0, CoreId: 0},
				{CpuId: 1, SocketId: 0, CoreId: 0},
				{CpuId: 2, SocketId: 0, CoreId: 4},
				{CpuId: 3, SocketId: 0, CoreId: 4},
				{CpuId: 4, SocketId: 0, CoreId: 8},
				{CpuId: 5, SocketId: 0, CoreId: 9},
				{CpuId: 6, SocketId: 0, CoreId: 10},
				{CpuId: 7, SocketId: 0, CoreId: 11},
				{CpuId: 8, SocketId: 0, CoreId: 12},
				{CpuId: 9, SocketId: 0, CoreId: 13},
				{CpuId: 10, SocketId: 0, CoreId: 14},
				{CpuId: 11, SocketId: 0, CoreId: 15},
			},
		},
		{
			name:    "AMD EPYC 7252 8-Core Processor",
			dataDir: "AMD_EPYC_7252_8-Core_Processor",
			want: []CPUInfo{
				{CpuId: 0, SocketId: 0, CoreId: 0},
				{CpuId: 1, SocketId: 0, CoreId: 1},
				{CpuId: 2, SocketId: 0, CoreId: 4},
				{CpuId: 3, SocketId: 0, CoreId: 5},
				{CpuId: 4, SocketId: 0, CoreId: 8},
				{CpuId: 5, SocketId: 0, CoreId: 9},
				{CpuId: 6, SocketId: 0, CoreId: 12},
				{CpuId: 7, SocketId: 0, CoreId: 13},
				{CpuId: 8, SocketId: 1, CoreId: 0},
				{CpuId: 9, SocketId: 1, CoreId: 1},
				{CpuId: 10, SocketId: 1, CoreId: 4},
				{CpuId: 11, SocketId: 1, CoreId: 5},
				{CpuId: 12, SocketId: 1, CoreId: 8},
				{CpuId: 13, SocketId: 1, CoreId: 9},
				{CpuId: 14, SocketId: 1, CoreId: 12},
				{CpuId: 15, SocketId: 1, CoreId: 13},
				{CpuId: 16, SocketId: 0, CoreId: 0},
				{CpuId: 17, SocketId: 0, CoreId: 1},
				{CpuId: 18, SocketId: 0, CoreId: 4},
				{CpuId: 19, SocketId: 0, CoreId: 5},
				{CpuId: 20, SocketId: 0, CoreId: 8},
				{CpuId: 21, SocketId: 0, CoreId: 9},
				{CpuId: 22, SocketId: 0, CoreId: 12},
				{CpuId: 23, SocketId: 0, CoreId: 13},
				{CpuId: 24, SocketId: 1, CoreId: 0},
				{CpuId: 25, SocketId: 1, CoreId: 1},
				{CpuId: 26, SocketId: 1, CoreId: 4},
				{CpuId: 27, SocketId: 1, CoreId: 5},
				{CpuId: 28, SocketId: 1, CoreId: 8},
				{CpuId: 29, SocketId: 1, CoreId: 9},
				{CpuId: 30, SocketId: 1, CoreId: 12},
				{CpuId: 31, SocketId: 1, CoreId: 13},
			},
		},
		{
			name:    "AMD Ryzen 9 7950X 16-Core_Processor",
			dataDir: "AMD_Ryzen_9_7950X_16-Core_Processor",
			want: []CPUInfo{
				{CpuId: 0, SocketId: 0, CoreId: 0},
				{CpuId: 1, SocketId: 0, CoreId: 1},
				{CpuId: 2, SocketId: 0, CoreId: 2},
				{CpuId: 3, SocketId: 0, CoreId: 3},
				{CpuId: 4, SocketId: 0, CoreId: 4},
				{CpuId: 5, SocketId: 0, CoreId: 5},
				{CpuId: 6, SocketId: 0, CoreId: 6},
				{CpuId: 7, SocketId: 0, CoreId: 7},
				{CpuId: 8, SocketId: 0, CoreId: 8},
				{CpuId: 9, SocketId: 0, CoreId: 9},
				{CpuId: 10, SocketId: 0, CoreId: 10},
				{CpuId: 11, SocketId: 0, CoreId: 11},
				{CpuId: 12, SocketId: 0, CoreId: 12},
				{CpuId: 13, SocketId: 0, CoreId: 13},
				{CpuId: 14, SocketId: 0, CoreId: 14},
				{CpuId: 15, SocketId: 0, CoreId: 15},
				{CpuId: 16, SocketId: 0, CoreId: 0},
				{CpuId: 17, SocketId: 0, CoreId: 1},
				{CpuId: 18, SocketId: 0, CoreId: 2},
				{CpuId: 19, SocketId: 0, CoreId: 3},
				{CpuId: 20, SocketId: 0, CoreId: 4},
				{CpuId: 21, SocketId: 0, CoreId: 5},
				{CpuId: 22, SocketId: 0, CoreId: 6},
				{CpuId: 23, SocketId: 0, CoreId: 7},
				{CpuId: 24, SocketId: 0, CoreId: 8},
				{CpuId: 25, SocketId: 0, CoreId: 9},
				{CpuId: 26, SocketId: 0, CoreId: 10},
				{CpuId: 27, SocketId: 0, CoreId: 11},
				{CpuId: 28, SocketId: 0, CoreId: 12},
				{CpuId: 29, SocketId: 0, CoreId: 13},
				{CpuId: 30, SocketId: 0, CoreId: 14},
				{CpuId: 31, SocketId: 0, CoreId: 15},
			},
		},
		{
			name:    "Intel(R) Core(TM) i7-14650HX",
			dataDir: "Intel(R)_Core(TM)_i7-14650HX",
			want: []CPUInfo{
				{CpuId: 0, SocketId: 0, CoreId: 0},
				{CpuId: 1, SocketId: 0, CoreId: 0},
				{CpuId: 2, SocketId: 0, CoreId: 4},
				{CpuId: 3, SocketId: 0, CoreId: 4},
				{CpuId: 4, SocketId: 0, CoreId: 8},
				{CpuId: 5, SocketId: 0, CoreId: 8},
				{CpuId: 6, SocketId: 0, CoreId: 12},
				{CpuId: 7, SocketId: 0, CoreId: 12},
				{CpuId: 8, SocketId: 0, CoreId: 16},
				{CpuId: 9, SocketId: 0, CoreId: 16},
				{CpuId: 10, SocketId: 0, CoreId: 20},
				{CpuId: 11, SocketId: 0, CoreId: 20},
				{CpuId: 12, SocketId: 0, CoreId: 24},
				{CpuId: 13, SocketId: 0, CoreId: 24},
				{CpuId: 14, SocketId: 0, CoreId: 28},
				{CpuId: 15, SocketId: 0, CoreId: 28},
				{CpuId: 16, SocketId: 0, CoreId: 32},
				{CpuId: 17, SocketId: 0, CoreId: 33},
				{CpuId: 18, SocketId: 0, CoreId: 34},
				{CpuId: 19, SocketId: 0, CoreId: 35},
				{CpuId: 20, SocketId: 0, CoreId: 36},
				{CpuId: 21, SocketId: 0, CoreId: 37},
				{CpuId: 22, SocketId: 0, CoreId: 38},
				{CpuId: 23, SocketId: 0, CoreId: 39},
			},
		},
		{
			name:    "Intel(R) Core(TM) i7-14650HX (No E-Core)",
			dataDir: "Intel(R)_Core(TM)_i7-14650HX",
			fields: fields{
				options: []CPUInfoOption{
					WithoutECores(),
				},
			},
			want: []CPUInfo{
				{CpuId: 0, SocketId: 0, CoreId: 0},
				{CpuId: 1, SocketId: 0, CoreId: 0},
				{CpuId: 2, SocketId: 0, CoreId: 4},
				{CpuId: 3, SocketId: 0, CoreId: 4},
				{CpuId: 4, SocketId: 0, CoreId: 8},
				{CpuId: 5, SocketId: 0, CoreId: 8},
				{CpuId: 6, SocketId: 0, CoreId: 12},
				{CpuId: 7, SocketId: 0, CoreId: 12},
				{CpuId: 8, SocketId: 0, CoreId: 16},
				{CpuId: 9, SocketId: 0, CoreId: 16},
				{CpuId: 10, SocketId: 0, CoreId: 20},
				{CpuId: 11, SocketId: 0, CoreId: 20},
				{CpuId: 12, SocketId: 0, CoreId: 24},
				{CpuId: 13, SocketId: 0, CoreId: 24},
				{CpuId: 14, SocketId: 0, CoreId: 28},
				{CpuId: 15, SocketId: 0, CoreId: 28},
			},
		},
		{
			name:    "c3d-standard-60",
			dataDir: "c3d-standard-60",
			want: []CPUInfo{
				{CpuId: 0, SocketId: 0, CoreId: 0},
				{CpuId: 1, SocketId: 0, CoreId: 1},
				{CpuId: 2, SocketId: 0, CoreId: 2},
				{CpuId: 3, SocketId: 0, CoreId: 3},
				{CpuId: 4, SocketId: 0, CoreId: 4},
				{CpuId: 5, SocketId: 0, CoreId: 5},
				{CpuId: 6, SocketId: 0, CoreId: 6},
				{CpuId: 7, SocketId: 0, CoreId: 7},
				{CpuId: 8, SocketId: 0, CoreId: 8},
				{CpuId: 9, SocketId: 0, CoreId: 9},
				{CpuId: 10, SocketId: 0, CoreId: 10},
				{CpuId: 11, SocketId: 0, CoreId: 11},
				{CpuId: 12, SocketId: 0, CoreId: 12},
				{CpuId: 13, SocketId: 0, CoreId: 13},
				{CpuId: 14, SocketId: 0, CoreId: 14},
				{CpuId: 15, SocketId: 0, CoreId: 16},
				{CpuId: 16, SocketId: 0, CoreId: 17},
				{CpuId: 17, SocketId: 0, CoreId: 18},
				{CpuId: 18, SocketId: 0, CoreId: 19},
				{CpuId: 19, SocketId: 0, CoreId: 20},
				{CpuId: 20, SocketId: 0, CoreId: 21},
				{CpuId: 21, SocketId: 0, CoreId: 22},
				{CpuId: 22, SocketId: 0, CoreId: 23},
				{CpuId: 23, SocketId: 0, CoreId: 24},
				{CpuId: 24, SocketId: 0, CoreId: 25},
				{CpuId: 25, SocketId: 0, CoreId: 26},
				{CpuId: 26, SocketId: 0, CoreId: 27},
				{CpuId: 27, SocketId: 0, CoreId: 28},
				{CpuId: 28, SocketId: 0, CoreId: 29},
				{CpuId: 29, SocketId: 0, CoreId: 30},
				{CpuId: 30, SocketId: 0, CoreId: 0},
				{CpuId: 31, SocketId: 0, CoreId: 1},
				{CpuId: 32, SocketId: 0, CoreId: 2},
				{CpuId: 33, SocketId: 0, CoreId: 3},
				{CpuId: 34, SocketId: 0, CoreId: 4},
				{CpuId: 35, SocketId: 0, CoreId: 5},
				{CpuId: 36, SocketId: 0, CoreId: 6},
				{CpuId: 37, SocketId: 0, CoreId: 7},
				{CpuId: 38, SocketId: 0, CoreId: 8},
				{CpuId: 39, SocketId: 0, CoreId: 9},
				{CpuId: 40, SocketId: 0, CoreId: 10},
				{CpuId: 41, SocketId: 0, CoreId: 11},
				{CpuId: 42, SocketId: 0, CoreId: 12},
				{CpuId: 43, SocketId: 0, CoreId: 13},
				{CpuId: 44, SocketId: 0, CoreId: 14},
				{CpuId: 45, SocketId: 0, CoreId: 16},
				{CpuId: 46, SocketId: 0, CoreId: 17},
				{CpuId: 47, SocketId: 0, CoreId: 18},
				{CpuId: 48, SocketId: 0, CoreId: 19},
				{CpuId: 49, SocketId: 0, CoreId: 20},
				{CpuId: 50, SocketId: 0, CoreId: 21},
				{CpuId: 51, SocketId: 0, CoreId: 22},
				{CpuId: 52, SocketId: 0, CoreId: 23},
				{CpuId: 53, SocketId: 0, CoreId: 24},
				{CpuId: 54, SocketId: 0, CoreId: 25},
				{CpuId: 55, SocketId: 0, CoreId: 26},
				{CpuId: 56, SocketId: 0, CoreId: 27},
				{CpuId: 57, SocketId: 0, CoreId: 28},
				{CpuId: 58, SocketId: 0, CoreId: 29},
				{CpuId: 59, SocketId: 0, CoreId: 30},
			},
		},
		{
			name:    "c3d-standard-60_nosmt",
			dataDir: "c3d-standard-60_nosmt",
			want: []CPUInfo{
				{CpuId: 0, SocketId: 0, CoreId: 0},
				{CpuId: 1, SocketId: 0, CoreId: 1},
				{CpuId: 2, SocketId: 0, CoreId: 2},
				{CpuId: 3, SocketId: 0, CoreId: 3},
				{CpuId: 4, SocketId: 0, CoreId: 4},
				{CpuId: 5, SocketId: 0, CoreId: 5},
				{CpuId: 6, SocketId: 0, CoreId: 6},
				{CpuId: 7, SocketId: 0, CoreId: 7},
				{CpuId: 8, SocketId: 0, CoreId: 8},
				{CpuId: 9, SocketId: 0, CoreId: 9},
				{CpuId: 10, SocketId: 0, CoreId: 10},
				{CpuId: 11, SocketId: 0, CoreId: 11},
				{CpuId: 12, SocketId: 0, CoreId: 12},
				{CpuId: 13, SocketId: 0, CoreId: 13},
				{CpuId: 14, SocketId: 0, CoreId: 14},
				{CpuId: 15, SocketId: 0, CoreId: 16},
				{CpuId: 16, SocketId: 0, CoreId: 17},
				{CpuId: 17, SocketId: 0, CoreId: 18},
				{CpuId: 18, SocketId: 0, CoreId: 19},
				{CpuId: 19, SocketId: 0, CoreId: 20},
				{CpuId: 20, SocketId: 0, CoreId: 21},
				{CpuId: 21, SocketId: 0, CoreId: 22},
				{CpuId: 22, SocketId: 0, CoreId: 23},
				{CpuId: 23, SocketId: 0, CoreId: 24},
				{CpuId: 24, SocketId: 0, CoreId: 25},
				{CpuId: 25, SocketId: 0, CoreId: 26},
				{CpuId: 26, SocketId: 0, CoreId: 27},
				{CpuId: 27, SocketId: 0, CoreId: 28},
				{CpuId: 28, SocketId: 0, CoreId: 29},
				{CpuId: 29, SocketId: 0, CoreId: 30},
			},
		},
		{
			name:    "c3d-standard-360",
			dataDir: "c3d-standard-360",
			want: []CPUInfo{
				{CpuId: 0, SocketId: 0, CoreId: 0},
				{CpuId: 1, SocketId: 0, CoreId: 1},
				{CpuId: 2, SocketId: 0, CoreId: 2},
				{CpuId: 3, SocketId: 0, CoreId: 3},
				{CpuId: 4, SocketId: 0, CoreId: 4},
				{CpuId: 5, SocketId: 0, CoreId: 5},
				{CpuId: 6, SocketId: 0, CoreId: 6},
				{CpuId: 7, SocketId: 0, CoreId: 7},
				{CpuId: 8, SocketId: 0, CoreId: 8},
				{CpuId: 9, SocketId: 0, CoreId: 9},
				{CpuId: 10, SocketId: 0, CoreId: 10},
				{CpuId: 11, SocketId: 0, CoreId: 11},
				{CpuId: 12, SocketId: 0, CoreId: 12},
				{CpuId: 13, SocketId: 0, CoreId: 13},
				{CpuId: 14, SocketId: 0, CoreId: 14},
				{CpuId: 15, SocketId: 0, CoreId: 16},
				{CpuId: 16, SocketId: 0, CoreId: 17},
				{CpuId: 17, SocketId: 0, CoreId: 18},
				{CpuId: 18, SocketId: 0, CoreId: 19},
				{CpuId: 19, SocketId: 0, CoreId: 20},
				{CpuId: 20, SocketId: 0, CoreId: 21},
				{CpuId: 21, SocketId: 0, CoreId: 22},
				{CpuId: 22, SocketId: 0, CoreId: 23},
				{CpuId: 23, SocketId: 0, CoreId: 24},
				{CpuId: 24, SocketId: 0, CoreId: 25},
				{CpuId: 25, SocketId: 0, CoreId: 26},
				{CpuId: 26, SocketId: 0, CoreId: 27},
				{CpuId: 27, SocketId: 0, CoreId: 28},
				{CpuId: 28, SocketId: 0, CoreId: 29},
				{CpuId: 29, SocketId: 0, CoreId: 30},
				{CpuId: 30, SocketId: 0, CoreId: 32},
				{CpuId: 31, SocketId: 0, CoreId: 33},
				{CpuId: 32, SocketId: 0, CoreId: 34},
				{CpuId: 33, SocketId: 0, CoreId: 35},
				{CpuId: 34, SocketId: 0, CoreId: 36},
				{CpuId: 35, SocketId: 0, CoreId: 37},
				{CpuId: 36, SocketId: 0, CoreId: 38},
				{CpuId: 37, SocketId: 0, CoreId: 39},
				{CpuId: 38, SocketId: 0, CoreId: 40},
				{CpuId: 39, SocketId: 0, CoreId: 41},
				{CpuId: 40, SocketId: 0, CoreId: 42},
				{CpuId: 41, SocketId: 0, CoreId: 43},
				{CpuId: 42, SocketId: 0, CoreId: 44},
				{CpuId: 43, SocketId: 0, CoreId: 45},
				{CpuId: 44, SocketId: 0, CoreId: 46},
				{CpuId: 45, SocketId: 0, CoreId: 48},
				{CpuId: 46, SocketId: 0, CoreId: 49},
				{CpuId: 47, SocketId: 0, CoreId: 50},
				{CpuId: 48, SocketId: 0, CoreId: 51},
				{CpuId: 49, SocketId: 0, CoreId: 52},
				{CpuId: 50, SocketId: 0, CoreId: 53},
				{CpuId: 51, SocketId: 0, CoreId: 54},
				{CpuId: 52, SocketId: 0, CoreId: 55},
				{CpuId: 53, SocketId: 0, CoreId: 56},
				{CpuId: 54, SocketId: 0, CoreId: 57},
				{CpuId: 55, SocketId: 0, CoreId: 58},
				{CpuId: 56, SocketId: 0, CoreId: 59},
				{CpuId: 57, SocketId: 0, CoreId: 60},
				{CpuId: 58, SocketId: 0, CoreId: 61},
				{CpuId: 59, SocketId: 0, CoreId: 62},
				{CpuId: 60, SocketId: 0, CoreId: 64},
				{CpuId: 61, SocketId: 0, CoreId: 65},
				{CpuId: 62, SocketId: 0, CoreId: 66},
				{CpuId: 63, SocketId: 0, CoreId: 67},
				{CpuId: 64, SocketId: 0, CoreId: 68},
				{CpuId: 65, SocketId: 0, CoreId: 69},
				{CpuId: 66, SocketId: 0, CoreId: 70},
				{CpuId: 67, SocketId: 0, CoreId: 71},
				{CpuId: 68, SocketId: 0, CoreId: 72},
				{CpuId: 69, SocketId: 0, CoreId: 73},
				{CpuId: 70, SocketId: 0, CoreId: 74},
				{CpuId: 71, SocketId: 0, CoreId: 75},
				{CpuId: 72, SocketId: 0, CoreId: 76},
				{CpuId: 73, SocketId: 0, CoreId: 77},
				{CpuId: 74, SocketId: 0, CoreId: 78},
				{CpuId: 75, SocketId: 0, CoreId: 80},
				{CpuId: 76, SocketId: 0, CoreId: 81},
				{CpuId: 77, SocketId: 0, CoreId: 82},
				{CpuId: 78, SocketId: 0, CoreId: 83},
				{CpuId: 79, SocketId: 0, CoreId: 84},
				{CpuId: 80, SocketId: 0, CoreId: 85},
				{CpuId: 81, SocketId: 0, CoreId: 86},
				{CpuId: 82, SocketId: 0, CoreId: 87},
				{CpuId: 83, SocketId: 0, CoreId: 88},
				{CpuId: 84, SocketId: 0, CoreId: 89},
				{CpuId: 85, SocketId: 0, CoreId: 90},
				{CpuId: 86, SocketId: 0, CoreId: 91},
				{CpuId: 87, SocketId: 0, CoreId: 92},
				{CpuId: 88, SocketId: 0, CoreId: 93},
				{CpuId: 89, SocketId: 0, CoreId: 94},
				{CpuId: 90, SocketId: 1, CoreId: 0},
				{CpuId: 91, SocketId: 1, CoreId: 1},
				{CpuId: 92, SocketId: 1, CoreId: 2},
				{CpuId: 93, SocketId: 1, CoreId: 3},
				{CpuId: 94, SocketId: 1, CoreId: 4},
				{CpuId: 95, SocketId: 1, CoreId: 5},
				{CpuId: 96, SocketId: 1, CoreId: 6},
				{CpuId: 97, SocketId: 1, CoreId: 7},
				{CpuId: 98, SocketId: 1, CoreId: 8},
				{CpuId: 99, SocketId: 1, CoreId: 9},
				{CpuId: 100, SocketId: 1, CoreId: 10},
				{CpuId: 101, SocketId: 1, CoreId: 11},
				{CpuId: 102, SocketId: 1, CoreId: 12},
				{CpuId: 103, SocketId: 1, CoreId: 13},
				{CpuId: 104, SocketId: 1, CoreId: 14},
				{CpuId: 105, SocketId: 1, CoreId: 16},
				{CpuId: 106, SocketId: 1, CoreId: 17},
				{CpuId: 107, SocketId: 1, CoreId: 18},
				{CpuId: 108, SocketId: 1, CoreId: 19},
				{CpuId: 109, SocketId: 1, CoreId: 20},
				{CpuId: 110, SocketId: 1, CoreId: 21},
				{CpuId: 111, SocketId: 1, CoreId: 22},
				{CpuId: 112, SocketId: 1, CoreId: 23},
				{CpuId: 113, SocketId: 1, CoreId: 24},
				{CpuId: 114, SocketId: 1, CoreId: 25},
				{CpuId: 115, SocketId: 1, CoreId: 26},
				{CpuId: 116, SocketId: 1, CoreId: 27},
				{CpuId: 117, SocketId: 1, CoreId: 28},
				{CpuId: 118, SocketId: 1, CoreId: 29},
				{CpuId: 119, SocketId: 1, CoreId: 30},
				{CpuId: 120, SocketId: 1, CoreId: 32},
				{CpuId: 121, SocketId: 1, CoreId: 33},
				{CpuId: 122, SocketId: 1, CoreId: 34},
				{CpuId: 123, SocketId: 1, CoreId: 35},
				{CpuId: 124, SocketId: 1, CoreId: 36},
				{CpuId: 125, SocketId: 1, CoreId: 37},
				{CpuId: 126, SocketId: 1, CoreId: 38},
				{CpuId: 127, SocketId: 1, CoreId: 39},
				{CpuId: 128, SocketId: 1, CoreId: 40},
				{CpuId: 129, SocketId: 1, CoreId: 41},
				{CpuId: 130, SocketId: 1, CoreId: 42},
				{CpuId: 131, SocketId: 1, CoreId: 43},
				{CpuId: 132, SocketId: 1, CoreId: 44},
				{CpuId: 133, SocketId: 1, CoreId: 45},
				{CpuId: 134, SocketId: 1, CoreId: 46},
				{CpuId: 135, SocketId: 1, CoreId: 48},
				{CpuId: 136, SocketId: 1, CoreId: 49},
				{CpuId: 137, SocketId: 1, CoreId: 50},
				{CpuId: 138, SocketId: 1, CoreId: 51},
				{CpuId: 139, SocketId: 1, CoreId: 52},
				{CpuId: 140, SocketId: 1, CoreId: 53},
				{CpuId: 141, SocketId: 1, CoreId: 54},
				{CpuId: 142, SocketId: 1, CoreId: 55},
				{CpuId: 143, SocketId: 1, CoreId: 56},
				{CpuId: 144, SocketId: 1, CoreId: 57},
				{CpuId: 145, SocketId: 1, CoreId: 58},
				{CpuId: 146, SocketId: 1, CoreId: 59},
				{CpuId: 147, SocketId: 1, CoreId: 60},
				{CpuId: 148, SocketId: 1, CoreId: 61},
				{CpuId: 149, SocketId: 1, CoreId: 62},
				{CpuId: 150, SocketId: 1, CoreId: 64},
				{CpuId: 151, SocketId: 1, CoreId: 65},
				{CpuId: 152, SocketId: 1, CoreId: 66},
				{CpuId: 153, SocketId: 1, CoreId: 67},
				{CpuId: 154, SocketId: 1, CoreId: 68},
				{CpuId: 155, SocketId: 1, CoreId: 69},
				{CpuId: 156, SocketId: 1, CoreId: 70},
				{CpuId: 157, SocketId: 1, CoreId: 71},
				{CpuId: 158, SocketId: 1, CoreId: 72},
				{CpuId: 159, SocketId: 1, CoreId: 73},
				{CpuId: 160, SocketId: 1, CoreId: 74},
				{CpuId: 161, SocketId: 1, CoreId: 75},
				{CpuId: 162, SocketId: 1, CoreId: 76},
				{CpuId: 163, SocketId: 1, CoreId: 77},
				{CpuId: 164, SocketId: 1, CoreId: 78},
				{CpuId: 165, SocketId: 1, CoreId: 80},
				{CpuId: 166, SocketId: 1, CoreId: 81},
				{CpuId: 167, SocketId: 1, CoreId: 82},
				{CpuId: 168, SocketId: 1, CoreId: 83},
				{CpuId: 169, SocketId: 1, CoreId: 84},
				{CpuId: 170, SocketId: 1, CoreId: 85},
				{CpuId: 171, SocketId: 1, CoreId: 86},
				{CpuId: 172, SocketId: 1, CoreId: 87},
				{CpuId: 173, SocketId: 1, CoreId: 88},
				{CpuId: 174, SocketId: 1, CoreId: 89},
				{CpuId: 175, SocketId: 1, CoreId: 90},
				{CpuId: 176, SocketId: 1, CoreId: 91},
				{CpuId: 177, SocketId: 1, CoreId: 92},
				{CpuId: 178, SocketId: 1, CoreId: 93},
				{CpuId: 179, SocketId: 1, CoreId: 94},
				{CpuId: 180, SocketId: 0, CoreId: 0},
				{CpuId: 181, SocketId: 0, CoreId: 1},
				{CpuId: 182, SocketId: 0, CoreId: 2},
				{CpuId: 183, SocketId: 0, CoreId: 3},
				{CpuId: 184, SocketId: 0, CoreId: 4},
				{CpuId: 185, SocketId: 0, CoreId: 5},
				{CpuId: 186, SocketId: 0, CoreId: 6},
				{CpuId: 187, SocketId: 0, CoreId: 7},
				{CpuId: 188, SocketId: 0, CoreId: 8},
				{CpuId: 189, SocketId: 0, CoreId: 9},
				{CpuId: 190, SocketId: 0, CoreId: 10},
				{CpuId: 191, SocketId: 0, CoreId: 11},
				{CpuId: 192, SocketId: 0, CoreId: 12},
				{CpuId: 193, SocketId: 0, CoreId: 13},
				{CpuId: 194, SocketId: 0, CoreId: 14},
				{CpuId: 195, SocketId: 0, CoreId: 16},
				{CpuId: 196, SocketId: 0, CoreId: 17},
				{CpuId: 197, SocketId: 0, CoreId: 18},
				{CpuId: 198, SocketId: 0, CoreId: 19},
				{CpuId: 199, SocketId: 0, CoreId: 20},
				{CpuId: 200, SocketId: 0, CoreId: 21},
				{CpuId: 201, SocketId: 0, CoreId: 22},
				{CpuId: 202, SocketId: 0, CoreId: 23},
				{CpuId: 203, SocketId: 0, CoreId: 24},
				{CpuId: 204, SocketId: 0, CoreId: 25},
				{CpuId: 205, SocketId: 0, CoreId: 26},
				{CpuId: 206, SocketId: 0, CoreId: 27},
				{CpuId: 207, SocketId: 0, CoreId: 28},
				{CpuId: 208, SocketId: 0, CoreId: 29},
				{CpuId: 209, SocketId: 0, CoreId: 30},
				{CpuId: 210, SocketId: 0, CoreId: 32},
				{CpuId: 211, SocketId: 0, CoreId: 33},
				{CpuId: 212, SocketId: 0, CoreId: 34},
				{CpuId: 213, SocketId: 0, CoreId: 35},
				{CpuId: 214, SocketId: 0, CoreId: 36},
				{CpuId: 215, SocketId: 0, CoreId: 37},
				{CpuId: 216, SocketId: 0, CoreId: 38},
				{CpuId: 217, SocketId: 0, CoreId: 39},
				{CpuId: 218, SocketId: 0, CoreId: 40},
				{CpuId: 219, SocketId: 0, CoreId: 41},
				{CpuId: 220, SocketId: 0, CoreId: 42},
				{CpuId: 221, SocketId: 0, CoreId: 43},
				{CpuId: 222, SocketId: 0, CoreId: 44},
				{CpuId: 223, SocketId: 0, CoreId: 45},
				{CpuId: 224, SocketId: 0, CoreId: 46},
				{CpuId: 225, SocketId: 0, CoreId: 48},
				{CpuId: 226, SocketId: 0, CoreId: 49},
				{CpuId: 227, SocketId: 0, CoreId: 50},
				{CpuId: 228, SocketId: 0, CoreId: 51},
				{CpuId: 229, SocketId: 0, CoreId: 52},
				{CpuId: 230, SocketId: 0, CoreId: 53},
				{CpuId: 231, SocketId: 0, CoreId: 54},
				{CpuId: 232, SocketId: 0, CoreId: 55},
				{CpuId: 233, SocketId: 0, CoreId: 56},
				{CpuId: 234, SocketId: 0, CoreId: 57},
				{CpuId: 235, SocketId: 0, CoreId: 58},
				{CpuId: 236, SocketId: 0, CoreId: 59},
				{CpuId: 237, SocketId: 0, CoreId: 60},
				{CpuId: 238, SocketId: 0, CoreId: 61},
				{CpuId: 239, SocketId: 0, CoreId: 62},
				{CpuId: 240, SocketId: 0, CoreId: 64},
				{CpuId: 241, SocketId: 0, CoreId: 65},
				{CpuId: 242, SocketId: 0, CoreId: 66},
				{CpuId: 243, SocketId: 0, CoreId: 67},
				{CpuId: 244, SocketId: 0, CoreId: 68},
				{CpuId: 245, SocketId: 0, CoreId: 69},
				{CpuId: 246, SocketId: 0, CoreId: 70},
				{CpuId: 247, SocketId: 0, CoreId: 71},
				{CpuId: 248, SocketId: 0, CoreId: 72},
				{CpuId: 249, SocketId: 0, CoreId: 73},
				{CpuId: 250, SocketId: 0, CoreId: 74},
				{CpuId: 251, SocketId: 0, CoreId: 75},
				{CpuId: 252, SocketId: 0, CoreId: 76},
				{CpuId: 253, SocketId: 0, CoreId: 77},
				{CpuId: 254, SocketId: 0, CoreId: 78},
				{CpuId: 255, SocketId: 0, CoreId: 80},
				{CpuId: 256, SocketId: 0, CoreId: 81},
				{CpuId: 257, SocketId: 0, CoreId: 82},
				{CpuId: 258, SocketId: 0, CoreId: 83},
				{CpuId: 259, SocketId: 0, CoreId: 84},
				{CpuId: 260, SocketId: 0, CoreId: 85},
				{CpuId: 261, SocketId: 0, CoreId: 86},
				{CpuId: 262, SocketId: 0, CoreId: 87},
				{CpuId: 263, SocketId: 0, CoreId: 88},
				{CpuId: 264, SocketId: 0, CoreId: 89},
				{CpuId: 265, SocketId: 0, CoreId: 90},
				{CpuId: 266, SocketId: 0, CoreId: 91},
				{CpuId: 267, SocketId: 0, CoreId: 92},
				{CpuId: 268, SocketId: 0, CoreId: 93},
				{CpuId: 269, SocketId: 0, CoreId: 94},
				{CpuId: 270, SocketId: 1, CoreId: 0},
				{CpuId: 271, SocketId: 1, CoreId: 1},
				{CpuId: 272, SocketId: 1, CoreId: 2},
				{CpuId: 273, SocketId: 1, CoreId: 3},
				{CpuId: 274, SocketId: 1, CoreId: 4},
				{CpuId: 275, SocketId: 1, CoreId: 5},
				{CpuId: 276, SocketId: 1, CoreId: 6},
				{CpuId: 277, SocketId: 1, CoreId: 7},
				{CpuId: 278, SocketId: 1, CoreId: 8},
				{CpuId: 279, SocketId: 1, CoreId: 9},
				{CpuId: 280, SocketId: 1, CoreId: 10},
				{CpuId: 281, SocketId: 1, CoreId: 11},
				{CpuId: 282, SocketId: 1, CoreId: 12},
				{CpuId: 283, SocketId: 1, CoreId: 13},
				{CpuId: 284, SocketId: 1, CoreId: 14},
				{CpuId: 285, SocketId: 1, CoreId: 16},
				{CpuId: 286, SocketId: 1, CoreId: 17},
				{CpuId: 287, SocketId: 1, CoreId: 18},
				{CpuId: 288, SocketId: 1, CoreId: 19},
				{CpuId: 289, SocketId: 1, CoreId: 20},
				{CpuId: 290, SocketId: 1, CoreId: 21},
				{CpuId: 291, SocketId: 1, CoreId: 22},
				{CpuId: 292, SocketId: 1, CoreId: 23},
				{CpuId: 293, SocketId: 1, CoreId: 24},
				{CpuId: 294, SocketId: 1, CoreId: 25},
				{CpuId: 295, SocketId: 1, CoreId: 26},
				{CpuId: 296, SocketId: 1, CoreId: 27},
				{CpuId: 297, SocketId: 1, CoreId: 28},
				{CpuId: 298, SocketId: 1, CoreId: 29},
				{CpuId: 299, SocketId: 1, CoreId: 30},
				{CpuId: 300, SocketId: 1, CoreId: 32},
				{CpuId: 301, SocketId: 1, CoreId: 33},
				{CpuId: 302, SocketId: 1, CoreId: 34},
				{CpuId: 303, SocketId: 1, CoreId: 35},
				{CpuId: 304, SocketId: 1, CoreId: 36},
				{CpuId: 305, SocketId: 1, CoreId: 37},
				{CpuId: 306, SocketId: 1, CoreId: 38},
				{CpuId: 307, SocketId: 1, CoreId: 39},
				{CpuId: 308, SocketId: 1, CoreId: 40},
				{CpuId: 309, SocketId: 1, CoreId: 41},
				{CpuId: 310, SocketId: 1, CoreId: 42},
				{CpuId: 311, SocketId: 1, CoreId: 43},
				{CpuId: 312, SocketId: 1, CoreId: 44},
				{CpuId: 313, SocketId: 1, CoreId: 45},
				{CpuId: 314, SocketId: 1, CoreId: 46},
				{CpuId: 315, SocketId: 1, CoreId: 48},
				{CpuId: 316, SocketId: 1, CoreId: 49},
				{CpuId: 317, SocketId: 1, CoreId: 50},
				{CpuId: 318, SocketId: 1, CoreId: 51},
				{CpuId: 319, SocketId: 1, CoreId: 52},
				{CpuId: 320, SocketId: 1, CoreId: 53},
				{CpuId: 321, SocketId: 1, CoreId: 54},
				{CpuId: 322, SocketId: 1, CoreId: 55},
				{CpuId: 323, SocketId: 1, CoreId: 56},
				{CpuId: 324, SocketId: 1, CoreId: 57},
				{CpuId: 325, SocketId: 1, CoreId: 58},
				{CpuId: 326, SocketId: 1, CoreId: 59},
				{CpuId: 327, SocketId: 1, CoreId: 60},
				{CpuId: 328, SocketId: 1, CoreId: 61},
				{CpuId: 329, SocketId: 1, CoreId: 62},
				{CpuId: 330, SocketId: 1, CoreId: 64},
				{CpuId: 331, SocketId: 1, CoreId: 65},
				{CpuId: 332, SocketId: 1, CoreId: 66},
				{CpuId: 333, SocketId: 1, CoreId: 67},
				{CpuId: 334, SocketId: 1, CoreId: 68},
				{CpuId: 335, SocketId: 1, CoreId: 69},
				{CpuId: 336, SocketId: 1, CoreId: 70},
				{CpuId: 337, SocketId: 1, CoreId: 71},
				{CpuId: 338, SocketId: 1, CoreId: 72},
				{CpuId: 339, SocketId: 1, CoreId: 73},
				{CpuId: 340, SocketId: 1, CoreId: 74},
				{CpuId: 341, SocketId: 1, CoreId: 75},
				{CpuId: 342, SocketId: 1, CoreId: 76},
				{CpuId: 343, SocketId: 1, CoreId: 77},
				{CpuId: 344, SocketId: 1, CoreId: 78},
				{CpuId: 345, SocketId: 1, CoreId: 80},
				{CpuId: 346, SocketId: 1, CoreId: 81},
				{CpuId: 347, SocketId: 1, CoreId: 82},
				{CpuId: 348, SocketId: 1, CoreId: 83},
				{CpuId: 349, SocketId: 1, CoreId: 84},
				{CpuId: 350, SocketId: 1, CoreId: 85},
				{CpuId: 351, SocketId: 1, CoreId: 86},
				{CpuId: 352, SocketId: 1, CoreId: 87},
				{CpuId: 353, SocketId: 1, CoreId: 88},
				{CpuId: 354, SocketId: 1, CoreId: 89},
				{CpuId: 355, SocketId: 1, CoreId: 90},
				{CpuId: 356, SocketId: 1, CoreId: 91},
				{CpuId: 357, SocketId: 1, CoreId: 92},
				{CpuId: 358, SocketId: 1, CoreId: 93},
				{CpuId: 359, SocketId: 1, CoreId: 94},
			},
		},
		{
			name:    "c4-standard-192",
			dataDir: "c4-standard-192",
			want: []CPUInfo{
				{CpuId: 0, SocketId: 0, CoreId: 0},
				{CpuId: 1, SocketId: 0, CoreId: 1},
				{CpuId: 2, SocketId: 0, CoreId: 2},
				{CpuId: 3, SocketId: 0, CoreId: 3},
				{CpuId: 4, SocketId: 0, CoreId: 4},
				{CpuId: 5, SocketId: 0, CoreId: 5},
				{CpuId: 6, SocketId: 0, CoreId: 6},
				{CpuId: 7, SocketId: 0, CoreId: 7},
				{CpuId: 8, SocketId: 0, CoreId: 8},
				{CpuId: 9, SocketId: 0, CoreId: 9},
				{CpuId: 10, SocketId: 0, CoreId: 10},
				{CpuId: 11, SocketId: 0, CoreId: 11},
				{CpuId: 12, SocketId: 0, CoreId: 12},
				{CpuId: 13, SocketId: 0, CoreId: 13},
				{CpuId: 14, SocketId: 0, CoreId: 14},
				{CpuId: 15, SocketId: 0, CoreId: 15},
				{CpuId: 16, SocketId: 0, CoreId: 16},
				{CpuId: 17, SocketId: 0, CoreId: 17},
				{CpuId: 18, SocketId: 0, CoreId: 18},
				{CpuId: 19, SocketId: 0, CoreId: 19},
				{CpuId: 20, SocketId: 0, CoreId: 20},
				{CpuId: 21, SocketId: 0, CoreId: 21},
				{CpuId: 22, SocketId: 0, CoreId: 22},
				{CpuId: 23, SocketId: 0, CoreId: 23},
				{CpuId: 24, SocketId: 0, CoreId: 24},
				{CpuId: 25, SocketId: 0, CoreId: 25},
				{CpuId: 26, SocketId: 0, CoreId: 26},
				{CpuId: 27, SocketId: 0, CoreId: 27},
				{CpuId: 28, SocketId: 0, CoreId: 28},
				{CpuId: 29, SocketId: 0, CoreId: 29},
				{CpuId: 30, SocketId: 0, CoreId: 30},
				{CpuId: 31, SocketId: 0, CoreId: 31},
				{CpuId: 32, SocketId: 0, CoreId: 32},
				{CpuId: 33, SocketId: 0, CoreId: 33},
				{CpuId: 34, SocketId: 0, CoreId: 34},
				{CpuId: 35, SocketId: 0, CoreId: 35},
				{CpuId: 36, SocketId: 0, CoreId: 36},
				{CpuId: 37, SocketId: 0, CoreId: 37},
				{CpuId: 38, SocketId: 0, CoreId: 38},
				{CpuId: 39, SocketId: 0, CoreId: 39},
				{CpuId: 40, SocketId: 0, CoreId: 40},
				{CpuId: 41, SocketId: 0, CoreId: 41},
				{CpuId: 42, SocketId: 0, CoreId: 42},
				{CpuId: 43, SocketId: 0, CoreId: 43},
				{CpuId: 44, SocketId: 0, CoreId: 44},
				{CpuId: 45, SocketId: 0, CoreId: 45},
				{CpuId: 46, SocketId: 0, CoreId: 46},
				{CpuId: 47, SocketId: 0, CoreId: 47},
				{CpuId: 48, SocketId: 1, CoreId: 0},
				{CpuId: 49, SocketId: 1, CoreId: 1},
				{CpuId: 50, SocketId: 1, CoreId: 2},
				{CpuId: 51, SocketId: 1, CoreId: 3},
				{CpuId: 52, SocketId: 1, CoreId: 4},
				{CpuId: 53, SocketId: 1, CoreId: 5},
				{CpuId: 54, SocketId: 1, CoreId: 6},
				{CpuId: 55, SocketId: 1, CoreId: 7},
				{CpuId: 56, SocketId: 1, CoreId: 8},
				{CpuId: 57, SocketId: 1, CoreId: 9},
				{CpuId: 58, SocketId: 1, CoreId: 10},
				{CpuId: 59, SocketId: 1, CoreId: 11},
				{CpuId: 60, SocketId: 1, CoreId: 12},
				{CpuId: 61, SocketId: 1, CoreId: 13},
				{CpuId: 62, SocketId: 1, CoreId: 14},
				{CpuId: 63, SocketId: 1, CoreId: 15},
				{CpuId: 64, SocketId: 1, CoreId: 16},
				{CpuId: 65, SocketId: 1, CoreId: 17},
				{CpuId: 66, SocketId: 1, CoreId: 18},
				{CpuId: 67, SocketId: 1, CoreId: 19},
				{CpuId: 68, SocketId: 1, CoreId: 20},
				{CpuId: 69, SocketId: 1, CoreId: 21},
				{CpuId: 70, SocketId: 1, CoreId: 22},
				{CpuId: 71, SocketId: 1, CoreId: 23},
				{CpuId: 72, SocketId: 1, CoreId: 24},
				{CpuId: 73, SocketId: 1, CoreId: 25},
				{CpuId: 74, SocketId: 1, CoreId: 26},
				{CpuId: 75, SocketId: 1, CoreId: 27},
				{CpuId: 76, SocketId: 1, CoreId: 28},
				{CpuId: 77, SocketId: 1, CoreId: 29},
				{CpuId: 78, SocketId: 1, CoreId: 30},
				{CpuId: 79, SocketId: 1, CoreId: 31},
				{CpuId: 80, SocketId: 1, CoreId: 32},
				{CpuId: 81, SocketId: 1, CoreId: 33},
				{CpuId: 82, SocketId: 1, CoreId: 34},
				{CpuId: 83, SocketId: 1, CoreId: 35},
				{CpuId: 84, SocketId: 1, CoreId: 36},
				{CpuId: 85, SocketId: 1, CoreId: 37},
				{CpuId: 86, SocketId: 1, CoreId: 38},
				{CpuId: 87, SocketId: 1, CoreId: 39},
				{CpuId: 88, SocketId: 1, CoreId: 40},
				{CpuId: 89, SocketId: 1, CoreId: 41},
				{CpuId: 90, SocketId: 1, CoreId: 42},
				{CpuId: 91, SocketId: 1, CoreId: 43},
				{CpuId: 92, SocketId: 1, CoreId: 44},
				{CpuId: 93, SocketId: 1, CoreId: 45},
				{CpuId: 94, SocketId: 1, CoreId: 46},
				{CpuId: 95, SocketId: 1, CoreId: 47},
				{CpuId: 96, SocketId: 0, CoreId: 0},
				{CpuId: 97, SocketId: 0, CoreId: 1},
				{CpuId: 98, SocketId: 0, CoreId: 2},
				{CpuId: 99, SocketId: 0, CoreId: 3},
				{CpuId: 100, SocketId: 0, CoreId: 4},
				{CpuId: 101, SocketId: 0, CoreId: 5},
				{CpuId: 102, SocketId: 0, CoreId: 6},
				{CpuId: 103, SocketId: 0, CoreId: 7},
				{CpuId: 104, SocketId: 0, CoreId: 8},
				{CpuId: 105, SocketId: 0, CoreId: 9},
				{CpuId: 106, SocketId: 0, CoreId: 10},
				{CpuId: 107, SocketId: 0, CoreId: 11},
				{CpuId: 108, SocketId: 0, CoreId: 12},
				{CpuId: 109, SocketId: 0, CoreId: 13},
				{CpuId: 110, SocketId: 0, CoreId: 14},
				{CpuId: 111, SocketId: 0, CoreId: 15},
				{CpuId: 112, SocketId: 0, CoreId: 16},
				{CpuId: 113, SocketId: 0, CoreId: 17},
				{CpuId: 114, SocketId: 0, CoreId: 18},
				{CpuId: 115, SocketId: 0, CoreId: 19},
				{CpuId: 116, SocketId: 0, CoreId: 20},
				{CpuId: 117, SocketId: 0, CoreId: 21},
				{CpuId: 118, SocketId: 0, CoreId: 22},
				{CpuId: 119, SocketId: 0, CoreId: 23},
				{CpuId: 120, SocketId: 0, CoreId: 24},
				{CpuId: 121, SocketId: 0, CoreId: 25},
				{CpuId: 122, SocketId: 0, CoreId: 26},
				{CpuId: 123, SocketId: 0, CoreId: 27},
				{CpuId: 124, SocketId: 0, CoreId: 28},
				{CpuId: 125, SocketId: 0, CoreId: 29},
				{CpuId: 126, SocketId: 0, CoreId: 30},
				{CpuId: 127, SocketId: 0, CoreId: 31},
				{CpuId: 128, SocketId: 0, CoreId: 32},
				{CpuId: 129, SocketId: 0, CoreId: 33},
				{CpuId: 130, SocketId: 0, CoreId: 34},
				{CpuId: 131, SocketId: 0, CoreId: 35},
				{CpuId: 132, SocketId: 0, CoreId: 36},
				{CpuId: 133, SocketId: 0, CoreId: 37},
				{CpuId: 134, SocketId: 0, CoreId: 38},
				{CpuId: 135, SocketId: 0, CoreId: 39},
				{CpuId: 136, SocketId: 0, CoreId: 40},
				{CpuId: 137, SocketId: 0, CoreId: 41},
				{CpuId: 138, SocketId: 0, CoreId: 42},
				{CpuId: 139, SocketId: 0, CoreId: 43},
				{CpuId: 140, SocketId: 0, CoreId: 44},
				{CpuId: 141, SocketId: 0, CoreId: 45},
				{CpuId: 142, SocketId: 0, CoreId: 46},
				{CpuId: 143, SocketId: 0, CoreId: 47},
				{CpuId: 144, SocketId: 1, CoreId: 0},
				{CpuId: 145, SocketId: 1, CoreId: 1},
				{CpuId: 146, SocketId: 1, CoreId: 2},
				{CpuId: 147, SocketId: 1, CoreId: 3},
				{CpuId: 148, SocketId: 1, CoreId: 4},
				{CpuId: 149, SocketId: 1, CoreId: 5},
				{CpuId: 150, SocketId: 1, CoreId: 6},
				{CpuId: 151, SocketId: 1, CoreId: 7},
				{CpuId: 152, SocketId: 1, CoreId: 8},
				{CpuId: 153, SocketId: 1, CoreId: 9},
				{CpuId: 154, SocketId: 1, CoreId: 10},
				{CpuId: 155, SocketId: 1, CoreId: 11},
				{CpuId: 156, SocketId: 1, CoreId: 12},
				{CpuId: 157, SocketId: 1, CoreId: 13},
				{CpuId: 158, SocketId: 1, CoreId: 14},
				{CpuId: 159, SocketId: 1, CoreId: 15},
				{CpuId: 160, SocketId: 1, CoreId: 16},
				{CpuId: 161, SocketId: 1, CoreId: 17},
				{CpuId: 162, SocketId: 1, CoreId: 18},
				{CpuId: 163, SocketId: 1, CoreId: 19},
				{CpuId: 164, SocketId: 1, CoreId: 20},
				{CpuId: 165, SocketId: 1, CoreId: 21},
				{CpuId: 166, SocketId: 1, CoreId: 22},
				{CpuId: 167, SocketId: 1, CoreId: 23},
				{CpuId: 168, SocketId: 1, CoreId: 24},
				{CpuId: 169, SocketId: 1, CoreId: 25},
				{CpuId: 170, SocketId: 1, CoreId: 26},
				{CpuId: 171, SocketId: 1, CoreId: 27},
				{CpuId: 172, SocketId: 1, CoreId: 28},
				{CpuId: 173, SocketId: 1, CoreId: 29},
				{CpuId: 174, SocketId: 1, CoreId: 30},
				{CpuId: 175, SocketId: 1, CoreId: 31},
				{CpuId: 176, SocketId: 1, CoreId: 32},
				{CpuId: 177, SocketId: 1, CoreId: 33},
				{CpuId: 178, SocketId: 1, CoreId: 34},
				{CpuId: 179, SocketId: 1, CoreId: 35},
				{CpuId: 180, SocketId: 1, CoreId: 36},
				{CpuId: 181, SocketId: 1, CoreId: 37},
				{CpuId: 182, SocketId: 1, CoreId: 38},
				{CpuId: 183, SocketId: 1, CoreId: 39},
				{CpuId: 184, SocketId: 1, CoreId: 40},
				{CpuId: 185, SocketId: 1, CoreId: 41},
				{CpuId: 186, SocketId: 1, CoreId: 42},
				{CpuId: 187, SocketId: 1, CoreId: 43},
				{CpuId: 188, SocketId: 1, CoreId: 44},
				{CpuId: 189, SocketId: 1, CoreId: 45},
				{CpuId: 190, SocketId: 1, CoreId: 46},
				{CpuId: 191, SocketId: 1, CoreId: 47},
			},
		},
	}
	for _, tt := range tests {
		t.Run(tt.name, func(t *testing.T) {
			hostRoot := path.Join("../../.testdata/", tt.dataDir)
			if err := os.Setenv("HOST_ROOT", hostRoot); err != nil {
				t.Errorf("Setenv() error = %v", err)
				return
			}
			got, err := GetCPUInfos(tt.fields.options...)
			if err := os.Unsetenv("HOST_ROOT"); err != nil {
				t.Errorf("Unsetenv() error = %v", err)
				return
			}
			if (err != nil) != tt.wantErr {
				t.Errorf("GetCPUInfos() error = %v, wantErr %v", err, tt.wantErr)
				return
			}
			if !reflect.DeepEqual(got, tt.want) {
				t.Errorf("GetCPUInfos() = %v, want %v", got, tt.want)
			}
		})
	}
}
